document.addEventListener("DOMContentLoaded",m);let f={},n=!1;function m(){var u;if(n)return;n=!0;const d=(u=document.getElementById("user-id"))==null?void 0:u.value;if(!d){n=!1;return}fetch(`/api/contas-status/${d}`).then(t=>t.json()).then(t=>{const y=new Date;t.forEach(e=>{const i=document.querySelector(`[data-email="${e.email_nike}"]`);if(i){const s=i.querySelector(".sync-status"),a=i.querySelector(".sync-time"),c=i.querySelector(".quick-task"),l=e.last_sync?new Date(e.last_sync):null;if(f[e.id],f[e.id]=e.sincronizado,s&&(e.sincronizado?(s.innerHTML='<span class="piscar">ðŸŸ¢</span> Sincronizado',s.className="text-sm font-semibold sync-status text-green-400"):(s.innerHTML='<span class="piscar">ðŸ”´</span> Desconectado',s.className="text-sm font-semibold sync-status text-red-400")),c&&(e.sincronizado?c.style.display="inline-flex":c.style.display="none"),a&&l){const o=(y-l)/1e3;let r;o<60?r=`Sincronizado hÃ¡ ${Math.floor(o)} segundos`:o<3600?r=`Sincronizado hÃ¡ ${Math.floor(o/60)} minutos`:r=`Ãšltima sincronizaÃ§Ã£o: ${l.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,a.textContent=r}else a&&(a.textContent="Nunca sincronizado")}}),n=!1}).catch(t=>{console.error("Erro ao verificar status das contas:",t),n=!1})}setInterval(m,5e3);
